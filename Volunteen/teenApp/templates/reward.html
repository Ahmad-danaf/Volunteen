{% load static %}
<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rewards Page</title>
    <link rel="stylesheet" href="https://bootswatch.com/5/lux/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="{% static 'css/reward.css' %}">
</head>
<body>
    <!-- Navbar with home and logout buttons -->
    <nav class="navbar navbar-light navbar-custom">
        <div class="container-fluid d-flex justify-content-between">
            <a class="btn btn-custom btn-home" href="{% url 'home_redirect' %}">Home</a>
            <a class="btn btn-custom btn-logout" href="{% url 'logout_view' %}">Logout</a>
        </div>
    </nav>

    <h1 class="title">Select a Shop to See Its Rewards</h1>

    <div class="container">
        {% for shop in shops %}
        <div class="card-wrap" data-shop-id="{{ forloop.counter0 }}">
            <div class="card-img" style="background-image: url('{{ shop.img.url|default_if_none:'% static "images/logo.png" %' }}');"></div>
            <div class="card-info">{{ shop.name }}</div>
        </div>
        <div class="rewards-container" id="rewards-{{ forloop.counter0 }}">
            <h2>Rewards for {{ shop.name }}</h2>
            {% for reward in shop.rewards %}
            <div class="reward">
                <img src="{{ reward.img_url.url }}" alt="{{ reward.title }}" style="width:50px; height:50px;">
                <p>{{ reward.title }}</p>
                <p>{{ reward.points }}</p>
            </div>
            {% empty %}
            <p>No rewards available for this shop.</p>
            {% endfor %}
        </div>
        {% endfor %}
    </div>

    <footer class="text-center mt-4">
        <p>&copy; 2024 Volunteen</p>
    </footer>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="{% static 'js/reward.js' %}"></script>
</body>
</html>
