{% extends "parent_base.html" %}
{% load static %}

  
 
{% block extra_css %}
<style>
  body {
    text-align: right;
    transition: background-color 0.3s ease, color 0.3s ease;
  }
  body.dark-mode {
    background-color: #121212;
    color: #ffffff;
  }
  /* Style for the "Select Children" button */
  .select-children-btn {
    font-size: 1.1rem;
    font-weight: bold;
    padding: 0.5rem 1rem;
  }
</style>
{% endblock extra_css %}  
 
{% block content %}
  
  
  <!-- Main Dashboard Container -->
  <div class="container mt-4">
    <!-- Welcome / Intro Section -->
    <div class="row mb-4">
      <div class="col-12">
        <div class="p-4 bg-primary text-white rounded">
          <h1 class="display-5">ברוכים הבאים ל-Volunteen!</h1>
          <p class="lead">להלן סיכום הפעילות של {{selected_child.user.username}}.</p>
        </div>
      </div>
    </div>
    
    <!-- Summary Cards Row -->
    <div class="row">
      <!-- 1. Tasks Summary Card -->
      <div class="col-md-4 mb-3">
        <div class="card shadow-sm" onclick="location.href='{% url 'parentApp:mentor_task_dashboard' selected_child.id %}'">
          <div class="card-body">
            <h5 class="card-title"><i class="fas fa-tasks"></i> משימות שהילד קיבל מהמנטורים</h5>
            <p class="card-text">
              משימות שהוקצו על ידי המנטורים: <strong>{{ mentor_assigned_tasks_count }}</strong><br>
              משימות שהילד השלים: <strong>{{ mentor_completed_tasks_count }}</strong><br>
            </p>
          </div>
        </div>
      </div>
      
      <!-- 2. Tasks parent Summary Card -->
      <div class="col-md-4 mb-3">
        <div class="card shadow-sm" onclick="location.href='{% url 'parentApp:parent_tasks' %}'">
          <div class="card-body">
            <h5 class="card-title"><i class="fas fa-tasks"></i> תנו משימות ועזרו לילד להתקדם :)</h5>
            <p class="card-text">
              משימות שהוקצו על ידי ההורים: <strong>{{ parent_assigned_tasks_count }}</strong><br>
              משימות שהילד השלים: <strong>{{ parent_completed_tasks_count }}</strong><br>
            </p>
          </div>
        </div>
      </div>
      
      <!-- 2. Redemption (Teen Coins Used) Card -->
      <div class="col-md-4 mb-3">
        <div class="card shadow-sm" onclick="location.href='{% url 'parentApp:redeemtion_dashboard' selected_child.id %}'">
          <div class="card-body">
            <h5 class="card-title"><i class="fas fa-coins"></i> פרסים שנרכשו</h5>
            <p class="card-text">
              נקודות שמומשו: <strong>{{ teen_coins_used }}</strong>
            </p>
          </div>
        </div>
      </div>
      
      <!-- 3. Points / Leaderboard Card -->
      <div class="col-md-4 mb-3">
        <div class="card shadow-sm" onclick="location.href='{% url 'parentApp:all_children_leaderboard' %}'">
          <div class="card-body">
            <h5 class="card-title"><i class="fas fa-trophy"></i> ניקוד</h5>
            <p class="card-text">
              לוח מובילים של כל הילדים
            </p>
          </div>
        </div>
      </div>
      
      <!-- 4. All Redemptions Available Card -->
      <div class="col-md-6 mb-3">
        <div class="card shadow-sm" onclick="location.href='{% url 'parentApp:all_rewards' selected_child.id %}'">
          <div class="card-body">
            <h5 class="card-title"><i class="fas fa-gift"></i> כל הפרסים שניתן לממש</h5>
            <p class="card-text">
              הצג את כל הפרסים הזמינים למימוש
            </p>
          </div>
        </div>
      </div>
      
      <!-- 5. Join Our WhatsUp Group Card -->
      <div class="col-md-6 mb-3">
        <div class="card shadow-sm" onclick="location.href='https://chat.whatsapp.com/COZhP1UymYaEg81onZXxLZ'">
          <div class="card-body">
            <h5 class="card-title"><i class="fab fa-whatsapp"></i> הצטרפו לקבוצת Whatsapp שלנו</h5>
            <p class="card-text">
              קבלו עדכונים, טיפים וקהילה תומכת!
            </p>
          </div>
        </div>
      </div>
    </div><!-- End Summary Cards Row -->
  </div><!-- End Main Container -->
  {% endblock content %}
  {% block extra_js %}
  <script>
    document.getElementById('darkModeToggle').addEventListener('click', function(e) {
      e.preventDefault();
      document.body.classList.toggle('dark-mode');
      document.getElementById('mainNavbar').classList.toggle('dark-mode');
    });
  </script>
  {% endblock extra_js %}
  